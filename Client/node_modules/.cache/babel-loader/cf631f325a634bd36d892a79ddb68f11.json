{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1\\\\Documents\\\\project\\\\Final-Year-Project\\\\Client\\\\src\\\\pages\\\\EmployeeRequest.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"../styles/EmployeeRequest.css\";\nconst EmployeeRequest = () => {\n  const [userId, setUserId] = useState(null); // משתנה מצב לשמירת ה-ID של המשתמש\n  const [selectedDays, setSelectedDays] = useState([]);\n  const navigate = useNavigate();\n\n  // קריאת נתוני המשתמש מ-localStorage בטעינת הקומפוננטה\n  useEffect(() => {\n    const userData = JSON.parse(localStorage.getItem(\"user\"));\n    if (userData && userData.id) {\n      setUserId(userData.id); // שמירת ה-ID במצב\n    } else {\n      console.error(\"User data not found in localStorage.\");\n      navigate(\"/login\"); // אם לא נמצא משתמש, להפנות לעמוד ההתחברות\n    }\n  }, [navigate]);\n  const daysOfWeek = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\n  const handleCheckboxChange = day => {\n    setSelectedDays(prevSelectedDays => prevSelectedDays.includes(day) ? prevSelectedDays.filter(d => d !== day) // Remove the day\n    : [...prevSelectedDays, day] // Add the day\n    );\n  };\n  const handleSend = async () => {\n    if (!userId) {\n      console.error(\"User ID is not defined.\");\n      return;\n    }\n    try {\n      const response = await fetch(\"/EmployeeRequest\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          userId,\n          selectedDays\n        })\n      });\n      if (response.ok) {\n        console.log(\"Data sent successfully.\");\n        navigate(\"/home\"); // מעבר לעמוד הבית\n      } else {\n        const errorMessage = await response.text();\n        console.error(\"Server response:\", errorMessage);\n      }\n    } catch (error) {\n      console.error(\"An error occurred:\", error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"employee-request\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \"Employee Request\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, \"Select the days you are available:\"), /*#__PURE__*/React.createElement(\"table\", {\n    className: \"availability-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Day\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Available\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, daysOfWeek.map(day => /*#__PURE__*/React.createElement(\"tr\", {\n    key: day,\n    className: selectedDays.includes(day) ? \"selected-row\" : \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, day), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: `checkbox-${day}`,\n    name: `available-${day}`,\n    onChange: () => handleCheckboxChange(day),\n    checked: selectedDays.includes(day),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  })))))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"send-button\",\n    onClick: handleSend,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, \"Send\"));\n};\nexport default EmployeeRequest;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","EmployeeRequest","userId","setUserId","selectedDays","setSelectedDays","navigate","userData","JSON","parse","localStorage","getItem","id","console","error","daysOfWeek","handleCheckboxChange","day","prevSelectedDays","includes","filter","d","handleSend","response","fetch","method","headers","body","stringify","ok","log","errorMessage","text","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","key","type","name","onChange","checked","onClick"],"sources":["C:/Users/1/Documents/project/Final-Year-Project/Client/src/pages/EmployeeRequest.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../styles/EmployeeRequest.css\";\r\n\r\nconst EmployeeRequest = () => {\r\n  const [userId, setUserId] = useState(null); // משתנה מצב לשמירת ה-ID של המשתמש\r\n  const [selectedDays, setSelectedDays] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  // קריאת נתוני המשתמש מ-localStorage בטעינת הקומפוננטה\r\n  useEffect(() => {\r\n    const userData = JSON.parse(localStorage.getItem(\"user\"));\r\n    if (userData && userData.id) {\r\n      setUserId(userData.id); // שמירת ה-ID במצב\r\n    } else {\r\n      console.error(\"User data not found in localStorage.\");\r\n      navigate(\"/login\"); // אם לא נמצא משתמש, להפנות לעמוד ההתחברות\r\n    }\r\n  }, [navigate]);\r\n\r\n  const daysOfWeek = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n\r\n  const handleCheckboxChange = (day) => {\r\n    setSelectedDays((prevSelectedDays) =>\r\n      prevSelectedDays.includes(day)\r\n        ? prevSelectedDays.filter((d) => d !== day) // Remove the day\r\n        : [...prevSelectedDays, day] // Add the day\r\n    );\r\n  };\r\n\r\n  const handleSend = async () => {\r\n    if (!userId) {\r\n      console.error(\"User ID is not defined.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch(\"/EmployeeRequest\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          userId,\r\n          selectedDays,\r\n        }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        console.log(\"Data sent successfully.\");\r\n        navigate(\"/home\"); // מעבר לעמוד הבית\r\n      } else {\r\n        const errorMessage = await response.text();\r\n        console.error(\"Server response:\", errorMessage);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"An error occurred:\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"employee-request\">\r\n      <h1>Employee Request</h1>\r\n      <p>Select the days you are available:</p>\r\n      <table className=\"availability-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Day</th>\r\n            <th>Available</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {daysOfWeek.map((day) => (\r\n            <tr key={day} className={selectedDays.includes(day) ? \"selected-row\" : \"\"}>\r\n              <td>{day}</td>\r\n              <td>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  id={`checkbox-${day}`}\r\n                  name={`available-${day}`}\r\n                  onChange={() => handleCheckboxChange(day)}\r\n                  checked={selectedDays.includes(day)}\r\n                />\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      <button className=\"send-button\" onClick={handleSend}>\r\n        Send\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EmployeeRequest;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}